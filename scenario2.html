<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Scenario 2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css\styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}

.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">WRV Training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Overview</a>
</li>
<li>
  <a href="calib-model.html">Calibrated Model</a>
</li>
<li>
  <a href="scenario2.html">Scenario 2</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Scenario 2</h1>

</div>


<p>This example scenario describes the effects of allowing an existing parcel of irrigated land to be reclassified as “non-irrigated”; that is, what happens when you voluntarily allow an irrigated parcel to go idle? Model boundary conditions are modified in the archived calibrated model to best represent this scenario. The idled land parcel (about 600 acres, or better yet 2.4-square kilometers) is shown in the following figure.</p>
<p><img src="images/scenario2-desc_01.png" /></p>
<p>Changes to <a href="https://github.com/USGS-R/wrv/tree/master/inst/extdata">unprocessed-data files</a> include:</p>
<ul>
<li><p>Irrigated lands (“extdata/irr/irr.lands.&lt;YYYY&gt;.zip”)—changed parcel status to “non-irrigated”.</p></li>
<li><p>Evapotranspiration (ET)(“extdata/et/et.&lt;YYYMM&gt;.tif”)—reduced ET within the parcel and set equal to the monthly precipitation during the irrigation season (April–October).</p></li>
<li><p>Combined surface-water irrigation diversions (“extdata/div/comb.sw.irr.csv”)–removed diversions associated with wells in parcel.</p></li>
<li><p>Groundwater points of diversion (“extdata/div/pod.gw.csv”)—removed diversions for wells in parcel.</p></li>
<li><p>Well sites (“extdata/div/pod.wells.zip”)—removed sites located in parcel.</p></li>
</ul>
<p>Files that did not need to be modified for this scenario, but may want to considered for modification in similar types of model scenarios include:</p>
<ul>
<li><p>Surface water diversions (“div.sw.csv”)—we assumed surface water associated with the idled parcel is now delivered to other “junior” users within the same canal service area.</p></li>
<li><p>Groundwater diversions (“div.gw.csv”)—if there had been “measured” groundwater diversions associated with the parcel, those would need to be removed.</p></li>
</ul>
<div id="create-datasets" class="section level2">
<h2>Create Datasets</h2>
<p>The R script for creating the modified datasets (shown in code blocks below) is primarily based on embedded R code in Appendix C. The first step is to load the <strong>wrv</strong> package, and all its existing datasets, in our R environment. To do so, open an R session and paste the following command at the command prompt.</p>
<pre class="r"><code>library(wrv)</code></pre>
<p>Note that each time we create a modified dataset it will mask the previously loaded version.</p>
<p>Next, parse and evaluate the preamble commands in the Appendix C R-source-code file (“sir20165080_AppendixC.R”).</p>
<pre class="r"><code>file &lt;- system.file(&quot;doc&quot;, &quot;sir20165080_AppendixC.R&quot;, package = &quot;wrv&quot;)
app.c.r &lt;- readLines(file)
line &lt;- grep(&quot;## ----download_git&quot;, app.c.r) - 1
eval(parse(text = app.c.r[1:line]))
app.c.r &lt;- app.c.r[-(1:line)]</code></pre>
<p>Skip initial commands for downloading the archived unprocessed-data files to a temporary directory.</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----create_data_dir&quot;, app.c.r) - 1
app.c.r &lt;- app.c.r[-(1:line)]</code></pre>
<p>Specify the location of the folder containing the modified unprocessed-data files (“inst/extdata”).</p>
<pre class="r"><code>dir.git &lt;- file.path(getwd(), &quot;extdata&quot;)</code></pre>
<p>Parse and evaluate the inital commands for specifying unit conversions, coordinate reference system (CRS), and common spatial/temporal grid.</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----canal_seep_1&quot;, app.c.r) - 1
eval(parse(text = app.c.r[1:line]))
app.c.r &lt;- app.c.r[-(1:line)]</code></pre>
<div id="level-1-data" class="section level3">
<h3>Level 1 data</h3>
<p>Processing instructions for creating level 1 modified datasets. The code chunks shown below are copied from the Appendix C R-source file located in the <strong>wrv</strong> package (“sir20165080_AppendixC.R”).</p>
<div id="combined-surface-water-irrigation-diversions-comb.sw.irr" class="section level4">
<h4>Combined surface-water irrigation diversions (comb.sw.irr)</h4>
<p>Read combined surface-water irrigation diversions data and write its external representation as an R object in “data/comb.sw.irr.rda”.</p>
<pre class="r"><code>file &lt;- file.path(dir.git, &quot;div/comb.sw.irr.csv&quot;)
comb.sw.irr &lt;- read.csv(file, strip.white = TRUE)
comb.sw.irr$Pdate &lt;- as.Date(comb.sw.irr$Pdate, format = &quot;%m/%d/%Y&quot;)
comb.sw.irr$MaxDivRate &lt;- comb.sw.irr$MaxDivRate * cfs.to.m3.per.d
save(comb.sw.irr, file = file.path(dir.dat, &quot;comb.sw.irr.rda&quot;), compress = &quot;xz&quot;)</code></pre>
</div>
<div id="points-of-diversion-for-groundwater-pod.gw" class="section level4">
<h4>Points of diversion for groundwater (pod.gw)</h4>
<p>Read points of diversion for groundwater data and write its external representation as an R object in “data/pod.gw.csv.rda”.</p>
<pre class="r"><code>file &lt;- file.path(dir.git, &quot;div/pod.gw.csv&quot;)
d &lt;- read.csv(file, strip.white = TRUE, stringsAsFactors = FALSE)
d$Pdate &lt;- as.Date(d$PriorityDa, format = &quot;%m/%d/%Y&quot;)
d$IrrRate &lt;- d$IRRcfs * cfs.to.m3.per.d
columns &lt;- c(&quot;WMISNumber&quot;, &quot;WaterRight&quot;, &quot;EntityName&quot;, &quot;EntitySrce&quot;, &quot;Pdate&quot;, &quot;IrrRate&quot;)
pod.gw &lt;- d[, columns]
save(pod.gw, file = file.path(dir.dat, &quot;pod.gw.rda&quot;), compress = &quot;xz&quot;)</code></pre>
</div>
<div id="well-completions-pod.wells" class="section level4">
<h4>Well completions (pod.wells)</h4>
<p>Read well completions data and initialize new variable in its data table.</p>
<pre class="r"><code>path &lt;- file.path(dir.git, &quot;div&quot;)
pod.wells &lt;- readOGR(dsn = path, layer = &quot;pod.wells&quot;, verbose = FALSE)
pod.wells &lt;- spTransform(pod.wells, crs)
d &lt;- pod.wells@data
columns &lt;- c(&quot;TopOpen1&quot;, &quot;BotOpen1&quot;, &quot;TopOpen2&quot;, &quot;BotOpen2&quot;)
d[, columns] &lt;- d[, columns] * ft.to.m
d[d$TopOpen1 == 0 | d$BotOpen1 == 0, c(&quot;TopOpen1&quot;, &quot;BotOpen1&quot;)] &lt;- NA
d[d$TopOpen2 == 0 | d$BotOpen2 == 0, c(&quot;TopOpen2&quot;, &quot;BotOpen2&quot;)] &lt;- NA</code></pre>
<p>A missing well completion is assumed identical to the completion of its nearest-neighbor well. Write its external representation as an R object in “data/pod.wells.rda”.</p>
<pre class="r"><code>is.pred &lt;- is.na(d$TopOpen1)
dists &lt;- as.matrix(dist(coordinates(pod.wells)))
dists &lt;- dists[!is.pred &amp; d$WellUse %in% &quot;Irrigation&quot;, ]
nearest.well &lt;- as.integer(apply(dists, 2, function(i) names(which.min(i))))
d$TopOpen1[is.pred] &lt;- d$TopOpen1[nearest.well[is.pred]]
d$BotOpen1[is.pred] &lt;- d$BotOpen1[nearest.well[is.pred]]
columns &lt;- c(&quot;WMISNumber&quot;, &quot;WellUse&quot;, &quot;TopOpen1&quot;, &quot;BotOpen1&quot;, &quot;TopOpen2&quot;, &quot;BotOpen2&quot;)
pod.wells@data &lt;- d[, columns]
save(pod.wells, file = file.path(dir.dat, &quot;pod.wells.rda&quot;), compress = &quot;xz&quot;)</code></pre>
</div>
<div id="irrigation-lands-irr.lands" class="section level4">
<h4>Irrigation lands (irr.lands)</h4>
<p>Read irrigated and semi-irrigated lands data and write its external representation as an R object in “data/irr.lands.rda”.</p>
<pre class="r"><code>path &lt;- file.path(dir.git, &quot;irr&quot;)
yr &lt;- c(1996, 2000, 2002, 2006, 2008, 2009, 2010)
files &lt;- paste0(&quot;irr.lands.&quot;, yr)
irr.lands &lt;- list()
for (i in seq_along(files)) {
  p &lt;- readOGR(dsn = path, layer = files[i], verbose = FALSE)
  p &lt;- spTransform(p, crs)
  p@data &lt;- p@data[, paste0(&quot;STATUS_&quot;, substr(yr[i], 1, 3)), drop = FALSE]
  names(p@data) &lt;- &quot;Status&quot;
  p &lt;- p[p@data[, &quot;Status&quot;] != &quot;non-irrigated&quot;, ]
  p &lt;- rgeos::gBuffer(p, width = 0, byid = TRUE)
  p@data &lt;- droplevels(p@data)
  irr.lands[[i]] &lt;- p
}
names(irr.lands) &lt;- as.character(yr)
save(irr.lands, file = file.path(dir.dat, &quot;irr.lands.rda&quot;), compress = &quot;xz&quot;)</code></pre>
</div>
<div id="evapotranspiration-et" class="section level4">
<h4>Evapotranspiration (et)</h4>
<p>Read evapotranspiration (ET) data and average by month. Note that ET raster files (“.tif”) are required for every month in the simulation, not just months with modified values.</p>
<pre class="r"><code>files &lt;- file.path(dir.git, &quot;et&quot;, paste0(&quot;et.&quot;, yr.mo, &quot;.tif&quot;))
FUN &lt;- function(i) {
  r &lt;- readGDAL(files[i], band = 1, silent = TRUE)
  r[[1]] &lt;- r[[1]] * mm.to.m
  return(r)
}
et.raw &lt;- lapply(seq_along(files), FUN)
names(et.raw) &lt;- as.character(yr.mo)</code></pre>
<p>Project raster data into model grid and place an upper and lower limit on ET that is 3 standard deviations from the mean value. Write its external representation as an R object in “data/et.rda”.</p>
<pre class="r"><code>high.res.spatial.grid &lt;- disaggregate(spatial.grid, fact = 5L) # added line
is.missing &lt;- is.na(alluvium.thickness)
FUN &lt;- function(i) {
  r &lt;- aggregate(projectRaster(raster(i), high.res.spatial.grid), fact = 5L)
  r[is.missing] &lt;- NA
  upper.limit &lt;- mean(r[], na.rm = TRUE) + sd(r[], na.rm = TRUE) * 3
  r[r &gt; upper.limit] &lt;- upper.limit
  return(round(r, digits = 6))
}
et &lt;- stack(lapply(et.raw, FUN), quick = TRUE)
names(et) &lt;- as.character(yr.mo)
save(et, file = file.path(dir.dat, &quot;et.rda&quot;), compress = &quot;xz&quot;)</code></pre>
</div>
</div>
<div id="level-2-data" class="section level3">
<h3>Level 2 data</h3>
<p>Level 2 datasets result from the analysis of level 1 data. Parse and evaluate all level 2 datasets and write their external representations as R objects in “data”. Datasets include monthly irrigation entity components (<code>entity.components</code>), rasterized canals (<code>r.canals</code>), rasterized monthly irrigation entities (<code>rs.entities</code>), and rasterized monthly recharge on non-irrigated lands (<code>rs.rech.non.irr</code>).</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----entity_components_1&quot;, app.c.r) - 1
app.c.r &lt;- app.c.r[-(1:line)]
eval(parse(text = app.c.r))</code></pre>
</div>
</div>
<div id="process-model" class="section level2">
<h2>Process Model</h2>
<p>The R script for processing the model (shown in code blocks below) is primarily based on embedded R code in Appendix D.</p>
<div id="pre-process" class="section level3">
<h3>Pre-process</h3>
<p>Clear R objects from the current R environment and re-load modified datasets.</p>
<pre class="r"><code>rm(list = ls())
files &lt;- list.files(file.path(getwd(), &quot;data&quot;), pattern = &quot;*.rda$&quot;, full.names = TRUE)
for (i in files) load(i)</code></pre>
<p>Read Appendix D R-source-code file (“sir20165080_AppendixD.R”) and remove all lines composed of the <code>invisible(dev.off())</code> command. This command is only useful when copy/pasting directly from the R-source-code file.</p>
<pre class="r"><code>file &lt;- system.file(&quot;doc&quot;, &quot;sir20165080_AppendixD.R&quot;, package = &quot;wrv&quot;)
app.d.r &lt;- readLines(file)
app.d.r &lt;- app.d.r[-grep(&quot;invisible.*dev.off&quot;, app.d.r)]</code></pre>
<p>Parse and evaluate all previous commands up to writing model input files.</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----write_modflow_input&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))
app.d.r &lt;- app.d.r[-(1:line)]
line &lt;- grep(&quot;## ----&quot;, app.d.r)[1] - 1
app.d.r &lt;- app.d.r[-(1:line)]</code></pre>
<p>Set a model name identifier and pathname to the model-run folder (“model”).</p>
<pre class="r"><code>id &lt;- &quot;wrv_mfusg&quot;
dir.run &lt;- file.path(getwd(), &quot;model&quot;)</code></pre>
<p>Write model input files to the model-run folder.</p>
<pre class="r"><code>WriteModflowInput(rs.model, rech, well, trib, misc, river, drain, id, dir.run,
                  is.convertible = FALSE, tr.stress.periods = tr.stress.periods,
                  ntime.steps = ntime.steps, verbose = FALSE)</code></pre>
<div id="copy-calibrated-files" class="section level4">
<h4>Copy calibrated files</h4>
<p>Overwrite model input reference files (“model/*.ref”) containing hydraulic conductivity and storage coefficient values, with reference files containing their calibrated values (“archive/*.ref”). And copy calibrated data for irrigation efficiency (“eff.csv”), canal seepage (“seep.csv”), and tributary underflow (“trib.csv”) to the model-run folder.</p>
<pre class="r"><code>dir.archive &lt;- file.path(getwd(), &quot;archive&quot;)
files &lt;- list.files(dir.archive, full.names = TRUE)
files &lt;- files[grep(&quot;(\\.ref|eff\\.csv|seep\\.csv|trib\\.csv)$&quot;, files)]
file.copy(files, dir.run, overwrite = TRUE)</code></pre>
</div>
<div id="save-file-containing-r-objects." class="section level4">
<h4>Save file containing R objects.</h4>
<p>Write a few of the R objects to a single binary R-data file in the model-run folder (“model/model.rda”).</p>
<pre class="r"><code>rs &lt;- subset(rs.model, c(&quot;lay1.top&quot;, sprintf(&quot;lay%s.bot&quot;, 1:3)))
save(rs, misc, trib, tr.stress.periods, ss.stress.periods, reduction, d.in.mv.ave,
     file = file.path(dir.run, &quot;model.rda&quot;))</code></pre>
</div>
<div id="run-water-budget-calculation" class="section level4">
<h4>Run water budget calculation</h4>
<p>Run the water-budget calculation and specify function arguments using modified datasets.</p>
<pre class="r"><code>UpdateWaterBudget(dir.run, id, qa.tables = &quot;english&quot;, pod.wells = pod.wells,
                  comb.sw.irr = comb.sw.irr, et = et, pod.gw = pod.gw,
                  entity.components = entity.components, rs.entities = rs.entities)</code></pre>
</div>
</div>
<div id="run-modflow" class="section level3">
<h3>Run MODFLOW</h3>
<p>Run the modified-model simulation.</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----read_budget&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))</code></pre>
<p>and remove the evaluated commands.</p>
<pre class="r"><code>app.d.r &lt;- app.d.r[-(1:line)]</code></pre>
</div>
<div id="post-process" class="section level3">
<h3>Post-process</h3>
<p>Both the modified and archived model simulations are included the post-processing instructions.</p>
<div id="read-water-budget-for-archived-simulation" class="section level4">
<h4>Read water budget for archived simulation</h4>
<p>Read water budget output for archived simulation, located in “archive” folder, and save results.</p>
<pre class="r"><code>dir.run &lt;- file.path(getwd(), &quot;archive&quot;)
line &lt;- grep(&quot;## ----table_budget&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))
d.river.arch   &lt;- d.river
d.drain.1.arch &lt;- d.drain.1
d.drain.2.arch &lt;- d.drain.2
d.rech.arch    &lt;- d.rech
d.well.arch    &lt;- d.well
d.trib.arch    &lt;- d.trib</code></pre>
</div>
<div id="read-water-budget-for-modified-simulation" class="section level4">
<h4>Read water budget for modified simulation</h4>
<p>Read water budget output for modified simulation, located in “model” folder, and summarize results in the following figure.</p>
<pre class="r"><code>dir.run &lt;- file.path(getwd(), &quot;model&quot;)
line &lt;- grep(&quot;## ----table_budget&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))</code></pre>
<p><img src="figures/graph_water_budget-1.png" width="1074" style="display: block; margin: auto;" /></p>
<p><strong>Figure:</strong> Volumetric water budget components by year, including annual change in storage, for the entire simulation period, 1995–2010, south-central Idaho—based on the Scenario 2 model results.</p>
</div>
<div id="compare-water-budgets" class="section level4">
<h4>Compare water budgets</h4>
<p>A comparison between archived and modified water budgets is shown in the following table.</p>
<p><strong>Table:</strong> Water budgets for modified and archived simulation, specified as volumetric flow rates average over 1998–2010. [<strong>Inflow:</strong> water entering the aquifer system. <strong>Outflow:</strong> water leaving the aquifer system. <strong>Component:</strong> a water budget component in the groundwater-flow model. <strong>Archived Rate:</strong> is the mean volumetric flow rate for the archived simulation. <strong>Modified Rate</strong>: is the mean volumetric flow rate for the modified simulation. <strong>Difference:</strong> is the archived rate subtracted from the modified rate. <strong>Abbreviations:</strong> acre-ft/yr, acre-feet per year]</p>
<table style="width:100%;">
<colgroup>
<col width="13%" />
<col width="20%" />
<col width="18%" />
<col width="18%" />
<col width="16%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">Component</th>
<th align="right">Archived rate<br>(acre-ft/yr)</th>
<th align="right">Modified rate<br>(acre-ft/yr)</th>
<th align="right">Difference<br>(arce-ft/yr)</th>
<th align="right">Percent<br>change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Inflow</strong></td>
<td align="left">Water-table recharge</td>
<td align="right">131,738</td>
<td align="right">131,594</td>
<td align="right">-144</td>
<td align="right">-0.1</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Streamflow losses</td>
<td align="right">177,813</td>
<td align="right">306,807</td>
<td align="right">128,994</td>
<td align="right">72.5</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Tributary basin underflow</td>
<td align="right">44,042</td>
<td align="right">44,042</td>
<td align="right">0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>Outflow</strong></td>
<td align="left">Water-table discharge</td>
<td align="right">28,708</td>
<td align="right">28,708</td>
<td align="right">0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Streamflow gains</td>
<td align="right">251,967</td>
<td align="right">376,047</td>
<td align="right">124,080</td>
<td align="right">49.2</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Production well pumping</td>
<td align="right">62,538</td>
<td align="right">61,459</td>
<td align="right">-1,078</td>
<td align="right">-1.7</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Stanton Crossing outlet boundary</td>
<td align="right">284</td>
<td align="right">254</td>
<td align="right">-30</td>
<td align="right">-10.5</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Silver Creek outlet boundary</td>
<td align="right">9,492</td>
<td align="right">15,913</td>
<td align="right">6,421</td>
<td align="right">67.6</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>Inflow - Outflow</strong></td>
<td align="left">Change in aquifer storage</td>
<td align="right">604</td>
<td align="right">62</td>
<td align="right">-542</td>
<td align="right">-89.7</td>
</tr>
</tbody>
</table>
</div>
<div id="read-heads-for-archived-simulation" class="section level4">
<h4>Read heads for archived simulation</h4>
<p>Read simulated hydraulic heads for archived simulation, located in “archive” folder, and save results.</p>
<pre class="r"><code>line &lt;- grep(&quot;## ----read_head&quot;, app.d.r) - 1
app.d.r &lt;- app.d.r[-(1:line)]
dir.run &lt;- file.path(getwd(), &quot;archive&quot;)
line &lt;- grep(&quot;## ----map_head_exceedance&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))
rs.wt.arch &lt;- rs.wt</code></pre>
</div>
<div id="read-heads-for-modified-simulation" class="section level4">
<h4>Read heads for modified simulation</h4>
<p>Read simulated water table for modified simulation, located in “model” folder.</p>
<pre class="r"><code>dir.run &lt;- file.path(getwd(), &quot;model&quot;)
line &lt;- grep(&quot;## ----map_head_exceedance&quot;, app.d.r)
eval(parse(text = app.d.r[1:line]))
line &lt;- grep(&quot;## ----map_wt_e&quot;, app.d.r)
app.d.r &lt;- app.d.r[-(1:line)]</code></pre>
</div>
<div id="compare-simulated-water-tables" class="section level4">
<h4>Compare simulated water tables</h4>
<p>A comparison between simulated water tables is shown in the following figure.</p>
<p><strong>Figure:</strong> Simulated water table difference, defined as the archived water table subtracted from the modified water table, during December 2010.</p>
<p><img src="figures/map_water_tbl_diff-1.png" width="1074" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>

<div id="page-footer">
  <p>This information is preliminary and is subject to revision.
    It is being provided to meet the need for timely best science.
    The information is provided on the condition that neither the
    U.S. Geological Survey (USGS) nor the U.S. Government shall be held liable for
    any damages resulting from the authorized or unauthorized use of this information.
    The content is in the public domain because it contains materials that
    originally came from the USGS, an agency of the United States Department of Interior.
    For more information, see the
    <a href="https://www2.usgs.gov/visual-id/credit_usgs.html#copyright/">official USGS copyright policy</a>.
  </p>
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
